{% load static %}
<section class="blog-slider">
  <div class="slideshow-container">
    {% for post in posts.all|slice:"0:4" %}  
    <div class="element mySlides2 mySlides fade">
        <div class="blog-slider-image">
          <a href="{% url 'post_details' post.slug %}"><img src="{{ post.image.url }}" alt="{{post.title}}"></a>
        </div>
        <div class="blog-slider-info">
            <a href="#" class="link">{{post.category}}</a>
            <a href="{% url 'post_details' post.slug %}"><h2 class="title-h2">{{post.title}}</h2></a>
            <p><b>By: {{post.author}}</b> | {{post.created_on}}</p>
            <a href="{% url 'post_details' post.slug %}" class="link">LEARN MORE</a>
        </div>
    </div>
    {% endfor %}
  </div>
  <br>
  <div style="text-align:center">
    <span class="dot-2 dot" onclick="currentSlide2(1)"></span>
    <span class="dot-2 dot" onclick="currentSlide2(2)"></span>
    <span class="dot-2 dot" onclick="currentSlide2(3)"></span>
    <span class="dot-2 dot" onclick="currentSlide2(4)"></span>
  </div>
</section>

<script>
  let slideIndex2 = 1;
  showSlides2(slideIndex2);

  // Next/previous controls
  function plusSlides2(x) {
    showSlides2(slideIndex2 += x);
  }

  // Thumbnail image controls
  function currentSlide2(x) {
    showSlides2(slideIndex = x);
  }

  function showSlides2(x) {
    let i;
    let slides2 = document.getElementsByClassName("mySlides2");
    let dots2 = document.getElementsByClassName("dot-2");
    if (x > slides2.length) {slideIndex2 = 1}
    if (x < 1) {slideIndex2 = slides2.length}
    for (i = 0; i < slides2.length; i++) {
      slides2[i].style.display = "none";
    }
    for (i = 0; i < dots2.length; i++) {
      dots2[i].className = dots2[i].className.replace(" active", "");
    }
    slides2[slideIndex-1].style.display = "flex";
    dots2[slideIndex-1].className += " active";
  }
</script>